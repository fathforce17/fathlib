import{s as $,r as n,o as u,j as d,k as e,e as B,f as a,m as j,h as w,D as H,y as L,b as c,v as g,x as v,a as M,z as N,F as O,d as F}from"./app-32ca278b.js";const S={class:"grid grid-cols-3 gap-6"},x={class:"col-span-3 sm:col-span-1"},A={__name:"Filter",props:{preRequisites:{type:Object,default(){return{}}}},emits:["hide"],setup(C,{emit:f}){const r={search:""},m=$({...r});return(i,s)=>{const p=n("BaseInput"),l=n("FilterForm");return u(),d(l,{"init-form":r,form:m,onHide:s[1]||(s[1]=t=>f("hide"))},{default:e(()=>[B("div",S,[B("div",x,[a(p,{type:"text",modelValue:m.search,"onUpdate:modelValue":s[0]||(s[0]=t=>m.search=t),name:"search",label:i.$trans("general.search")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},U={name:"RoleList"},E=Object.assign(U,{setup(C){const f=j();w();const r=H("emitter"),m="config/role/",i=L(!1),s=$({}),p=l=>{Object.assign(s,l)};return(l,t)=>{const k=n("PageHeaderAction"),b=n("ParentTransition"),_=n("DataCell"),y=n("BaseBadge"),D=n("FloatingMenuItem"),I=n("FloatingMenu"),R=n("DataRow"),h=n("BaseButton"),V=n("DataTable"),P=n("ListItem"),T=n("ConfigPage");return u(),d(T,{"no-background":""},{action:e(()=>[a(k,{url:"config/roles/",name:"ConfigRole",title:l.$trans("config.role.role"),actions:["create","filter"],"dropdown-actions":["print","pdf","excel"],onToggleFilter:t[0]||(t[0]=o=>i.value=!i.value)},null,8,["title"])]),default:e(()=>[a(P,{class:"sm:-mt-4","init-url":m,onSetItems:p},{filter:e(()=>[a(b,{appear:"",visibility:i.value},{default:e(()=>[a(A,{onRefresh:t[1]||(t[1]=o=>c(r).emit("listItems")),onHide:t[2]||(t[2]=o=>i.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[a(b,{appear:"",visibility:!0},{default:e(()=>[a(V,{header:s.headers,meta:s.meta,module:"config.role",onRefresh:t[4]||(t[4]=o=>c(r).emit("listItems"))},{actionButton:e(()=>[a(h,{onClick:t[3]||(t[3]=o=>c(f).push({name:"RoleCreate"}))},{default:e(()=>[g(v(l.$trans("global.add",{attribute:l.$trans("config.role.role")})),1)]),_:1})]),default:e(()=>[(u(!0),M(O,null,N(s.data,o=>(u(),d(R,{key:o.uuid},{default:e(()=>[a(_,{name:"name"},{default:e(()=>[g(v(o.label),1)]),_:2},1024),a(_,{name:"isDefault"},{default:e(()=>[o.isDefault?(u(),d(y,{key:0,design:"primary",label:l.$trans("config.role.predefined")},null,8,["label"])):F("",!0)]),_:2},1024),a(_,{name:"action"},{default:e(()=>[o.isDefault?F("",!0):(u(),d(I,{key:0},{default:e(()=>[a(D,{icon:"fas fa-trash",onClick:q=>c(r).emit("deleteItem",{uuid:o.uuid})},{default:e(()=>[g(v(l.$trans("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024))]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})]),_:1})}}});export{E as default};
